{% extends 'base.html' %}
{% block content %}

<div class="row">
    <div class="col-md-10 col-md-offset-1">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">{{ title }}</h3>
            </div>
            <form id="formvalidar" class="form-horizontal" method="POST" action="">{% csrf_token %}
                <div class="panel-body">

                    <div class="form-group">
                        <div class="divalidacion">
                            <label class="control-label col-sm-2" for="nombre">Nombre:</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="nombre" name="nombre" onkeyup="validacion('nombre');" value="{{ instance.nombre }}">
                                    <span class="help-block"></span>
                            </div>
                        </div>
                        <div class="divalidacion">
                            <label class="control-label col-sm-2" for="apellido">Apellido:</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="apellido" name="apellido" onkeyup="validacion('apellido');" value="{{ instance.apellido }}">
                                    <span class="help-block"></span>
                            </div>
                        </div>        
                    </div>

                    <div class="form-group">
                        <div class="divalidacion">
                            <label class="control-label col-sm-2" for="matricula">Matricula:</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="matricula" name="matricula" onkeyup="validacion('matricula');" value="{{ instance.matricula }}">
                                    <span class="help-block"></span>
                            </div>
                        </div>
                        <div class="divalidacion">    
                            <label class="control-label col-sm-2" for="dni">DNI:</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="dni" name="dni" onkeyup="validacion('dni');" value="{{ instance.dni }}">
                                    <span class="help-block"></span>
                            </div> 
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="divalidacion">
                            <label class="control-label col-sm-2" for="especializaciones">Especializacion:</label>
                            <div class="col-sm-4">
                                <label class="checkbox-inline  form-check-label" for="especializaciones">
                                    <div form-check id="especializaciones" onchange="validacion('especializacionesin');">
                                        <span class="help-block"></span>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
               
                    <div class="row">
                        <div class="col-sm-12">
                            <h4>Datos de contacto</h4>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="divalidacion">
                            <label class="control-label col-sm-2" for="domicilio_particular">Domicilio Particular:</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="domicilio_particular" name="domicilio_particular" onkeyup="validacion('domicilio_particular');" value="{{ instance.domicilio_particular }}">
                                    <span class="help-block"></span>
                            </div>
                        </div>
                        <div class="divalidacion">
                            <label class="control-label col-sm-2" for="cp_domicilio_particular">Codigo Postal:</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="cp_domicilio_particular" name="cp_domicilio_particular" onkeyup="validacion('cp_domicilio_particular');" value="{{ instance.cp_domicilio_particular }}">
                                    <span class="help-block"></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="divalidacion">
                            <label class="control-label col-sm-2" for="email">Email:</label>
                            <div class="col-sm-4">
                                    <input type="text" id="email" name="email" class="form-control" onkeyup="validacion('email');" value="{{ instance.email }}">
                                        <span class="help-block"></span>
                            </div>
                        </div>
                        <div class="divalidacion">
                            <label class="control-label col-sm-2" for="codigo_area">Codigo de Area:</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="codigo_area" name="codigo_area" onkeyup="validacion('codigo_area');" value="{{ instance.codigo_area }}">
                                    <span class="help-block"></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="divalidacion">
                            <label class="control-label col-sm-2" for="telefono1">Telefono 1:</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="telefono1" name="telefono1" onkeyup="validacion('telefono1');" value="{{ instance.telefono1 }}">
                                    <span class="help-block"></span>
                            </div>
                        </div>
                        <div class="divalidacion">    
                            <label class="control-label col-sm-2" for="telefono2">Telefono 2:</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="telefono2" name="telefono2" onkeyup="validacion('telefono2');" value="{{ instance.telefono2 }}">
                                    <span class="help-block"></span>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-12">
                            <h4>Datos Fiscales</h4>
                        </div>
                    </div>
           
                    <div class="form-group">
                        <div class="divalidacion">
                            <label class="control-label col-sm-2" for="domicilio_fiscal">Domicilio Fiscal:</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="domicilio_fiscal" name="domicilio_fiscal" onkeyup="validacion('domicilio_fiscal');" value="{{ instance.domicilio_fiscal }}">
                                    <span class="help-block"></span>
                            </div>
                        </div>
                        <div class="divalidacion">    
                            <label class="control-label col-sm-2" for="cp_domicilio_fiscal">Codigo Postal:</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="cp_domicilio_fiscal" name="cp_domicilio_fiscal" onkeyup="validacion('cp_domicilio_fiscal');" value="{{ instance.cp_domicilio_fiscal }}">
                                    <span class="help-block"></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="divalidacion">    
                            <label class="control-label col-sm-2" for="cuit">CUIT:</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="cuit" name="cuit" onkeyup="validacion('cuit');" value="{{ instance.cuit }}">
                                    <span class="help-block"></span>
                            </div>
                        </div>
                    </div>
            
                    <div class="row">
                        <div class="col-sm-12">
                            <h4>Datos Complementarios</h4>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="divalidacion">    
                            <label class="control-label col-sm-2" for="fecha_ingreso">Fecha de Alta:</label>
                            <div class="col-sm-4">
                                <input type="date" class="form-control" id="fecha_ingreso" name="fecha_ingreso" onkeyup="validacion('fecha_ingreso');" value="{{ instance.fecha_ingreso }}" placeholder="AAAA-MM-DD">
                                <span class="help-block"></span>
                            </div>
                        </div>
                        <div class="divalidacion">    
                            <label class="control-label col-sm-2" for="fecha_baja">Fecha de Baja:</label>
                            <div class="col-sm-4">
                                <input type="date" class="form-control" id="fecha_baja" name="fecha_baja" onkeyup="validacion('fecha_baja');" value="{{ instance.fecha_baja }}">
                                <span class="help-block"></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="divalidacion">    
                            <label class="control-label col-sm-2" for="acreditacion_brucelosis">Acreditacion Brucelosis:</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="acreditacion_brucelosis" name="acreditacion_brucelosis" onkeyup="validacion('acreditacion_brucelosis');" value="{{ instance.acreditacion_brucelosis }}" placeholder="">
                                <span class="help-block"></span>
                            </div>
                        </div>
                        <div class="divalidacion">    
                            <label class="control-label col-sm-2" for="acreditacion_aie">Acreditacion AIE:</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="acreditacion_aie" name="acreditacion_aie" onkeyup="validacion('acreditacion_aie');" value="{{ instance.acreditacion_aie }}" placeholder="">
                                <span class="help-block"></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="control-label col-sm-2" for="activo">Estado:</label>
                        <div class="col-sm-10">
                            <div class="checkbox form-check disabled">
                                <label class="form-check-label" for="activo">
                                    <input type="checkbox" class="form-check-input" id="activo" name="activo" value="{{ instance.activo }}" checked disabled> Activo
                                </label>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="panel-footer">
                    <div class="row">
                        <div class="col-sm-12" align="right">
                            <button type="button" class="btn btn-default" id="btnvalidar">Enviar</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
        
{% endblock %}

{% block javascript %} 
<script type="text/javascript">
$(document).ready(function() {
    var espelist = []
        "{% for x in instance.especializaciones.all %}"
    espelist.push("{{x.id}}")
        "{% endfor %}"
        
    $.ajax({
        url:"/j_especializacion/",
        type:"GET",
        dataType: "json",
        success: function(especializacion){
            $.each(especializacion,function(index, obj) 
            {  
                if(obj.activo == true){
                $('#especializaciones').append('<br><input type="checkbox" name="especializaciones" id="especializacionesin" value="'+ obj.id+'"> '+obj.descripcion);
                }
            });//each

            $("#especializaciones > input").each(function(){
                for (var i = espelist.length - 1; i >= 0; i--) {
                    console.log($(this).attr("value"))
                    if($(this).attr("value") == espelist[i])
                    {
                         this.setAttribute("checked", "checked")
                    } //if
                } //for
            }); // Explotacion Checked
        }//success
    });//ajax 

/*validacion*/
$("span.help-block").hide();
});//ready  

/*validacion*/
function verificar(){
    var v1=0,v2=0,v3=0,v4=0,v5=0,v9=0,v10=0,v12=0,v13=0,v14=0,v15=0;

    v1=validacion('nombre');
    v2=validacion('apellido');
    v3=validacion('matricula');
    v4=validacion('dni');
    v5=validacion('especializacionesin');
/*    v6=validacion('domicilio_particular');*/
/*    v7=validacion('cp_domicilio_particular');*/
/*    v8=validacion('email');*/
    v9=validacion('codigo_area');
    v10=validacion('telefono1');
/*    v11=validacion('telefono2');*/
    v12=validacion('domicilio_fiscal');
    v13=validacion('cp_domicilio_fiscal');
    v14=validacion('cuit');
    v15=validacion('fecha_ingreso');
/*    v16=validacion('fecha_baja');*/
/*    v17=validacion('acreditacion_brucelosis');*/
/*    v18=validacion('acreditacion_aie');*/

    console.log(v1,v2,v3,v4,v5,v9,v10,v12,v13,v14,v15);
    if(v1 == true && v2 == true && v3 == true && v4 == true && v5 == true && v9 == true && v10 == true && v12 == true && v13 == true && v14 == true && v15 == true){
        return true;
    }
    else{
        return false;
    }
}//verificar

$("#btnvalidar").click(function(){
    if(verificar() == true){
        $("#formvalidar").submit();
    }
});// boton validar

//funcion retorna array de consulta bd 
function getconbd(url, method)
{
    return JSON.parse($.ajax({
        type: method,
        url: url,
        dataType: 'json',
        async:false,
        success: function(data)
        {
            return data;
        }
    }).responseText);
}//consulta bd

function validacion(campo){
    if(campo==='matricula'){
        inputtext = document.getElementById(campo).value;
        var truefalse = true;
        var conbd = {};//variable consulta base datos
        var surl='{{title}}';//variable para url capta titulo
        /*surl=surl.substr(6).toLowerCase().replace(/\s/g,"");//quita palabara "nueva" y tranf minuscula, elimina espacios*/
        var vurl=surl.split(' ');//vector del titulo
        var nuevmodif=vurl[0];//guarda dato nuevo o modificar
        vurl.shift();//elimina elemento inicial
        if(vurl.length == 2){vurl=(vurl[0]+vurl[1]).toLowerCase();}
        else{vurl=(vurl[0]).toLowerCase();}
        console.log('var vurl ',vurl);
        conbd = getconbd("/j_"+vurl+"/", "GET");//consulta json a tabla especificada
        console.log('conbd',conbd);
        if(nuevmodif != 'Modificar'){
            for(var i=0;i < conbd.length;i++){
                console.log('conbd[i]',conbd[i].matricula);
                if(conbd[i].matricula.toUpperCase() == inputtext.toUpperCase().trim()){
                    console.log(conbd[i].matricula,'-',inputtext);
                    truefalse=false;
                    console.log('truefalse adentro',truefalse);
                    break;      
                }
            }
        }
        else{
            for(var i=0;i < conbd.length;i++){    
                if(conbd[i].matricula.toUpperCase() == inputtext.toUpperCase().trim() && conbd[i].id != "{{instance.id}}"){
                    console.log(conbd[i].matricula,'-',inputtext);
                    truefalse=false;
                    console.log('truefalse adentro',truefalse);      
                }
            }
        }//selector de modificacion
        console.log('truefalse afuera',truefalse);

        
        console.log(inputtext);
    if(truefalse == false){
        $("#icon"+campo).remove();
        $('#'+campo).parent().parent().attr("class","has-error has-feedback");
        $('#'+campo).parent().children("span").text("Existe "+campo+" en base de datos").show();
        $('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-remove form-control-feedback'></span>");
        return false;
    }
    else{
        if(inputtext == null || inputtext.length == 0 || /^\s+$/.test(inputtext)){
            $('#icon'+campo).remove();
            $('#'+campo).parent().parent().attr("class","has-error has-feedback");
            $('#'+campo).parent().children("span").text("Debe ingresar una "+campo+"").show();
            $('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-remove form-control-feedback'></span>");
            return false;
        }
        else{
            $("#icon"+campo).remove();
            $('#'+campo).parent().parent().attr("class","has-success has-feedback");
            $('#'+campo).parent().children("span").text("").hide();
            $('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-ok form-control-feedback'></span>");
            return true;                
        }
    }    
    }//matricula

    if(campo==='nombre' || campo==='apellido' || campo==='domicilio_fiscal' || campo==='cp_domicilio_fiscal' || campo==='fecha_ingreso'){
        inputtext = document.getElementById(campo).value;
        console.log(inputtext);
        if(inputtext == null || inputtext.length == 0 || /^\s+$/.test(inputtext)){
            $('#icon'+campo).remove();
            $('#'+campo).parent().parent().attr("class","has-error has-feedback");
            $('#'+campo).parent().children("span").text("Campo obligatorio").show();
            $('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-remove form-control-feedback'></span>");
            return false;
        }
        else{
            $("#icon"+campo).remove();
            $('#'+campo).parent().parent().attr("class","has-success has-feedback");
            $('#'+campo).parent().children("span").text("").hide();
            $('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-ok form-control-feedback'></span>");
            return true;                
        }
    }//nombre,apellido,domicilio fiscal,cp domicilio fiscal

    if(campo==='domicilio_particular' || campo==='cp_domicilio_particular' || campo==='acreditacion_brucelosis' || campo==='acreditacion_aie'){
        inputtext = document.getElementById(campo).value;
        console.log(inputtext);
        if(inputtext == null || inputtext.length == 0 || /^\s+$/.test(inputtext)){
            $('#icon'+campo).remove();
            /*$('#'+campo).parent().parent().attr("class","has-error has-feedback");*/
            $('#'+campo).parent().children("span").text("Ingreso de datos opcional").show();
            /*$('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-remove form-control-feedback'></span>");*/
            return false;
        }
        else{
            $("#icon"+campo).remove();
            /*$('#'+campo).parent().parent().attr("class","has-success has-feedback");*/
            $('#'+campo).parent().children("span").text("").hide();
            /*$('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-ok form-control-feedback'></span>");*/
            return true;                
        }
    }//dom particluar,cp dom particular,acreditacion brucelosis,acreditacion aie

    if (campo==='email'){
        inputtext = document.getElementById(campo).value;
        if( inputtext == null || inputtext.length == 0 || /^\s+$/.test(inputtext) ) {
            $("#icon"+campo).remove();
            /*$('#'+campo).parent().parent().attr("class","has-error has-feedback");*/
            $('#'+campo).parent().children('span').text("Ingreso de datos opcional").show();
            /*$('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-remove form-control-feedback'></span>");*/
            return false;
        }
        else{
            if (!(/\S+@\S+\.\S+/.test(inputtext))) {
                $("#icon"+campo).remove();
                /*$('#'+campo).parent().parent().attr("class","has-error has-feedback");*/
                $('#'+campo).parent().children('span').text("Ingrese un Email valido.Ej:mail@mail.com").show();
                /*$('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-remove form-control-feedback'></span>");*/
                return false;
            }
            else{
                $("#icon"+campo).remove();
                /*$('#'+campo).parent().parent().attr("class","has-success has-feedback");*/
                $('#'+campo).parent().children('span').hide();
                /*$('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-ok form-control-feedback'></span>");*/
                return true;
            }
        }
    }//email

    if(campo==='codigo_area' || campo==='telefono1' || campo==='telefono2'){
        inputtext = document.getElementById(campo).value;
        console.log(inputtext);
        if(inputtext == null || inputtext.length == 0 || /^\s+$/.test(inputtext)){
            $('#icon'+campo).remove();
            $('#'+campo).parent().parent().attr("class","has-error has-feedback");
            $('#'+campo).parent().children("span").text("Campo obligatorio").show();
            $('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-remove form-control-feedback'></span>");
            return false;
        }
        else
        {
            if(isNaN(inputtext)){
                $('#icon'+campo).remove();
                $('#'+campo).parent().parent().attr("class","has-error has-feedback");
                $('#'+campo).parent().children("span").text("No se acepta letras").show();
                $('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-remove form-control-feedback'></span>");
                return false;
            }
            else{
                $("#icon"+campo).remove();
                $('#'+campo).parent().parent().attr("class","has-success has-feedback");
                $('#'+campo).parent().children("span").text("").hide();
                $('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-ok form-control-feedback'></span>");
                return true;
            }
                            
        }
    }//codigo area, telefono1,telefono2


    if(campo==='dni'){
        dni = document.getElementById(campo).value;
        console.log(dni);
        /*inputtext = document.getElementById(campo).value;*/
        var truefalse = true;
        var conbd = {};//variable consulta base datos
        var surl='{{title}}';//variable para url capta titulo
        /*surl=surl.substr(6).toLowerCase().replace(/\s/g,"");//quita palabara "nueva" y tranf minuscula, elimina espacios*/
        var vurl=surl.split(' ');//vector del titulo
        var nuevmodif=vurl[0];//guarda dato nuevo o modificar
        vurl.shift();//elimina elemento inicial
        if(vurl.length == 2){vurl=(vurl[0]+vurl[1]).toLowerCase();}
        else{vurl=(vurl[0]).toLowerCase();}
        console.log('var vurl ',vurl);
        conbd = getconbd("/j_"+vurl+"/", "GET");//consulta json a tabla especificada
        console.log('conbd',conbd);
        if(nuevmodif != 'Modificar'){
            for(var i=0;i < conbd.length;i++){
                console.log('conbd[i]',conbd[i].dni);
                if(conbd[i].dni.toUpperCase() == dni.toUpperCase().trim()){
                    console.log(conbd[i].dni,'-',dni);
                    truefalse=false;
                    console.log('truefalse adentro',truefalse);
                    break;      
                }
            }
        }
        else{
            for(var i=0;i < conbd.length;i++){    
                if(conbd[i].dni.toUpperCase() == dni.toUpperCase().trim() && conbd[i].id != "{{instance.id}}"){
                    console.log(conbd[i].dni,'-',dni);
                    truefalse=false;
                    console.log('truefalse adentro',truefalse);      
                }
            }
        }//selector de modificacion
        console.log('truefalse afuera',truefalse);
        console.log(dni);
    if(truefalse == false){
        $("#icon"+campo).remove();
        $('#'+campo).parent().parent().attr("class","has-error has-feedback");
        $('#'+campo).parent().children("span").text("Existe "+campo+" en base de datos").show();
        $('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-remove form-control-feedback'></span>");
        return false;
    }
        if(dni == null || dni.length == 0 || /^\s+$/.test(dni)){
            $('#icon'+campo).remove();
            $('#'+campo).parent().parent().attr("class","has-error has-feedback");
            $('#'+campo).parent().children("span").text("Debe ingresar un "+campo+"").show();
            $('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-remove form-control-feedback'></span>");
            return false;
        }
        else
        {
            if( isNaN(dni)){
                $('#icon'+campo).remove();
                $('#'+campo).parent().parent().attr("class","has-error has-feedback");
                $('#'+campo).parent().children("span").text("No se acepta letras").show();
                $('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-remove form-control-feedback'></span>");
                return false;
            }
            else
            {
                if (!(/^\d{8}$/.test(dni))){
                    $('#icon'+campo).remove();
                    $('#'+campo).parent().parent().attr("class","has-error has-feedback");
                    $('#'+campo).parent().children("span").text("Debe ingresar solo 8 digitos").show();
                    $('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-remove form-control-feedback'></span>");
                    return false;
                }
                else{
                    $("#icon"+campo).remove();
                    $('#'+campo).parent().parent().attr("class","has-success has-feedback");
                    $('#'+campo).parent().children("span").text("").hide();
                    $('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-ok form-control-feedback'></span>");
                    return true;
                } 
            }                
        }
    }//dni    

    if(campo==='cuit'){
        cuit = document.getElementById(campo).value;
        console.log(cuit);
        if(cuit == null || cuit.length == 0 || /^\s+$/.test(cuit)){
            $('#icon'+campo).remove();
            $('#'+campo).parent().parent().attr("class","has-error has-feedback");
            $('#'+campo).parent().children("span").text("Debe ingresar un "+campo+"").show();
            $('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-remove form-control-feedback'></span>");
            return false;
        }
        else
        {
            if( isNaN(cuit)){
                $('#icon'+campo).remove();
                $('#'+campo).parent().parent().attr("class","has-error has-feedback");
                $('#'+campo).parent().children("span").text("No se acepta letras").show();
                $('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-remove form-control-feedback'></span>");
                return false;
            }
            else
            {
                if (!(/^\d{11}$/.test(cuit))){
                    $('#icon'+campo).remove();
                    $('#'+campo).parent().parent().attr("class","has-error has-feedback");
                    $('#'+campo).parent().children("span").text("Debe ingresar solo 11 digitos").show();
                    $('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-remove form-control-feedback'></span>");
                    return false;
                }
                else{
                    $("#icon"+campo).remove();
                    $('#'+campo).parent().parent().attr("class","has-success has-feedback");
                    $('#'+campo).parent().children("span").text("").hide();
                    $('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-ok form-control-feedback'></span>");
                    return true;
                } 
            }                
        }
    }//CUIT    

    if(campo==='especializacionesin'){
        especializacionesin = $("#especializaciones input:checked").length;
        console.log(especializacionesin);
        if(especializacionesin == 0 ){
            $('#icon'+campo).remove();
            $('#'+campo).parent().parent().attr("class","has-error has-feedback");
            $('#'+campo).parent().children("span").text("Seleccionar una o mas opciones_____").show();
            $('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-remove form-control-feedback'></span>");
            return false;
        }
        else{
            $("#icon"+campo).remove();
            $('#'+campo).parent().parent().attr("class","has-success has-feedback");
            $('#'+campo).parent().children("span").text("").hide();
            $('#'+campo).parent().append("<span id='icon"+campo+"' class='glyphicon glyphicon-ok form-control-feedback'></span>");
            return true;                
        }
    }//categorias

    

}//validacion

</script>
{% endblock %}